<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DNA Sequence Origin Classifier</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>DNA Sequence Origin Classifier</h1>
        <p>Deep Learning-based Classification of DNA Sequences (Human, Bacteria, Virus, Plant)</p>

        <!-- Data Upload Section -->
        <div class="upload-section">
            <div class="upload-group">
                <label for="trainFile">Upload Train CSV:</label>
                <input type="file" id="trainFile" accept=".csv">
                <span id="trainFileName">No file chosen</span>
            </div>
            <div class="upload-group">
                <label for="testFile">Upload Test CSV:</label>
                <input type="file" id="testFile" accept=".csv">
                <span id="testFileName">No file chosen</span>
            </div>
        </div>

        <!-- Control Buttons -->
        <div class="controls">
            <button id="trainBtn">Train</button>
            <button id="evaluateBtn">Evaluate</button>
            <button id="testRandomBtn">Test 5 Random</button>
            <button id="saveModelBtn">Save Model</button>
            <button id="resetBtn">Reset</button>
        </div>

        <!-- Model Load Section -->
        <div class="model-load-section">
            <div class="upload-group">
                <label for="modelJsonFile">Load Model JSON:</label>
                <input type="file" id="modelJsonFile" accept=".json">
                <span id="modelJsonFileName">No file chosen</span>
            </div>
            <div class="upload-group">
                <label for="modelWeightsFile">Load Model Weights:</label>
                <input type="file" id="modelWeightsFile" accept=".bin">
                <span id="modelWeightsFileName">No file chosen</span>
            </div>
            <button id="loadModelBtn">Load Model</button>
        </div>

        <!-- Data Status -->
        <div class="data-status">
            <h2>Data Status</h2>
            <p><strong>Train samples:</strong> <span id="trainSamples">0</span></p>
            <p><strong>Test samples:</strong> <span id="testSamples">0</span></p>
        </div>

        <!-- Model Info -->
        <div class="model-info">
            <h2>Model Info</h2>
            <p><strong>Layers:</strong> <span id="layersCount">0</span></p>
            <p><strong>Total parameters:</strong> <span id="totalParams">0</span></p>
        </div>

        <!-- Training Logs -->
        <div class="training-logs">
            <h2>Training Logs</h2>
            <div id="logContainer"></div>
        </div>

        <!-- Random Test Preview -->
        <div class="random-test">
            <h2>Random 5 Test Preview</h2>
            <div id="randomTestResults"></div>
        </div>

        <!-- Single Sequence Test -->
        <div class="single-test">
            <h2>Single Sequence Test</h2>
            <textarea id="singleSequence" placeholder="Enter DNA sequence for testing..." rows="4"></textarea>
            <button id="testSingleBtn">Test Sequence</button>
            <div id="singleTestResult"></div>
        </div>
    </div>

    <script src="dataLoader.js"></script>
    <script src="modelBuilder.js"></script>
    <script src="visualization.js"></script>
    <script src="script.js"></script>
</body>
</html>
<!-- 在控制按钮部分添加模型选择 -->
<div class="model-selection">
    <label for="modelType">Model Architecture:</label>
    <select id="modelType">
        <option value="improved_dense">Improved Dense</option>
        <option value="cnn">CNN</option>
        <option value="deep_dense">Deep Dense</option>
    </select>
</div>
